1. send_datagram():
- 如果知道下一条的以太网地址。创建以太网帧，将IP包的负载serialize转换为序列化数据包放在其内，并且设置源地址和目的地址。
- 如果不知道下一条的以太网地址。广播ARP请求，将IP包入队直至得到ARP回复，接着同上。
- 注意ARP请求在五秒内不重复发送。
2. recv_frame():
- 目的地址是: 1. 广播地址 2. 此设备的硬件地址
- 如果以太网帧内是IPv4，使用parse()解析 payload ，返回结果给 caller
- 如果以太网帧内是ARP回复，使用parse()解析ARPMessage，记住ip地址和以太地址映射 30秒。如果是一个ARP请求，发送一个ARP回复。
3. maybe_send():
- 发送以太网帧
4. tick():
- 计时器，用于ip地址和以太网地址的映射过期。

题外话：
    ARP用于同一局域网内的主机或路由器。如果主机A和主机B处于不同的局域网：
    [A]----R1----[]----R2----[B]
   局域网1       局域网2      局域网3
A首先将数据发送给R1，A手持R1的IP地址，如果不知道R1的硬件地址，则使用ARP获取。
R1从转发表查找到了下一跳R2路由器的IP地址，如果不知道R2的硬件地址，则使用ARP获取。
R2同理，将数据转发给主机B。

存疑：check4文档中的TCP in UDP in IP是什么意思。我只查到了TCP in IP。
注意点：
1. payload之间不能随意赋值，需要用parse或serialize。